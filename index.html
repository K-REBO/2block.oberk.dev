<html>
<head>
	<meta lang="ja">
	<meta charset="utf-8"/>
	<link rel="icon" href="https://2block.oberk.dev/favicon.ico" />
	<link rel="author" href="https://www.oberk.dev/humans.txt"/>
	<link rel="stylesheet" href="output.css">
	<title>2block</title>
	<style>
		svg {
			display:inline;
		}
	</style>
</head>
<body class="bold text-center" style="background: #fff6f6;">

	<img id="flash" src="assets/flash.png" style="height: 10%; z-index: 3000;" class="fixed left-45 top-200">

	<div style="position: absolute;">
		<img src="assets/2block.png" style="width: max-content;left: 4%; top:0%" class="fixed">
		<img src="assets/oven/people.png"
		id="oven"
		style="
		z-index: 2000;
		height:25%;
		top:35%;
		left: 20%;
		"
		class="fixed"
		>
		<img src="assets/fukidashi.PNG" style="width: 60ex; left: 50%; top:20%" class="fixed">
	</div>

	<div class="mt-250 absolute right-15">
		<h1 style="text-decoration: underline; font-size: 400%;">
			Our works
		</h1>
		<div class="" style="width:100%; height:fit-content">
			<img src="assets/oven.GIF" class="mx-auto my-auto">
		</div>
	</div>
</body>

<script>
{"use strict";

let flash = document.querySelector("#flash");
{
// FIXME! no time to make it recursive method
	setTimeout(() => {
		flash.style.opacity = 0.9;
		setTimeout(() => {
			flash.style.opacity = 0.8;
				setTimeout(() => {
				flash.style.opacity = 0.7;
					setTimeout(() => {
						flash.style.opacity = 0.6;
						setTimeout(() => {
							flash.style.opacity = 0.5;
							setTimeout(() => {
								flash.style.opacity = 0.4;
								setTimeout(() => {
									flash.style.opacity = 0.3;
									setTimeout(() => {
										flash.style.opacity = 0.2;
										setTimeout(() => {
											flash.style.opacity = 0.1;
											setTimeout(() => {
												flash.remove()
											}, 110);
										}, 110);
									}, 110);
								}, 110);
							}, 110);
						}, 110);
					}, 110);
				}, 110);
			}, 110);
	}, 700);
}

let menu_opened = false;
const menu_el = document.querySelector("#menu");
function menu_clicked () {
	alert("AA");
}


let oven = document.getElementById("oven");
oven.addEventListener("click",(e) => {

	const x_magnification = window.innerWidth / 375;
	const y_magnification = window.innerHeight / 812;

	const oven_img_path = "assets/oven/";
	const oven_enum = {
		about:oven_img_path + "about.png",
		cg:oven_img_path + "cg.png",
		people:oven_img_path + "people.png",
	};
	let src = String(oven.src);

	

	const x = e.offsetX;
	const y = e.offsetY;

	// let debug_el = document.getElementById("debug");
	// debug_el.innerHTML = `
	// offsetX:${x},
	// offsetY:${y}
	// height:${window.outerHeight}
	// width:${window.innerWidth}
	// x_magnification:${innerHeight},
	// y_magnification:${y_magnification},
	// `;
	const button_clicked = (y < window.outerHeight/2) && (x > window.outerWidth/2);



	if(oven.src.includes(oven_enum.people)) {
		if(!button_clicked) {
			window.location.href = "https://2block.oberk.dev/people";
		}
		else {
			oven.src = src.replace(oven_enum.people,oven_enum.about);
		}
	}
	else if(oven.src.includes(oven_enum.about)) {
		if(!button_clicked) {
			window.location.href = "https://2block.oberk.dev/about";
		}
		else {
			oven.src = src.replace(oven_enum.about,oven_enum.cg);
		}
	}
	else if(oven.src.includes(oven_enum.cg)) {
		if(!button_clicked) {
			window.location.href = "https://2block.oberk.dev/view";
		}
		else {
			oven.src = src.replace(oven_enum.cg,oven_enum.people);
		}
	}


});
}
</script>
</html>